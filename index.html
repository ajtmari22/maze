<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maze Game with Walls</title>
  <style>
    body {
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .maze-container {
      position: relative;
      width: 500px;
      height: 500px;
    }
    canvas, .player {
      position: absolute;
      top: 0;
      left: 0;
    }
    canvas {
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    .player {
      width: 20px;
      height: 20px;
      background-color: limegreen;
      border-radius: 50%;
      z-index: 2;
      transform: translate(10px, 10px); /* Starting position */
    }
  </style>
</head>
<body>

<div class="maze-container">
  <canvas id="mazeCanvas" width="500" height="500"></canvas>
  <div class="player" id="player"></div>
</div>

<script>
  const canvas = document.getElementById('mazeCanvas');
  const ctx = canvas.getContext('2d');
  const player = document.getElementById('player');
  const step = 5; // Movement per key press

  const mazeImage = new Image();
  mazeImage.src = "Adobe Express - file (1).png";

  mazeImage.onload = () => {
    ctx.drawImage(mazeImage, 0, 0, canvas.width, canvas.height);
  };

  let playerX = 10;
  let playerY = 10;

  document.addEventListener('keydown', (e) => {
    let nextX = playerX;
    let nextY = playerY;

    if (e.key === 'ArrowUp') nextY -= step;
    if (e.key === 'ArrowDown') nextY += step;
    if (e.key === 'ArrowLeft') nextX -= step;
    if (e.key === 'ArrowRight') nextX += step;

    // Get color at the next position
    const pixel = ctx.getImageData(nextX + 10, nextY + 10, 1, 1).data;
    const r = pixel[0];
    const g = pixel[1];
    const b = pixel[2];

    // Assume black paths (0,0,0) are walkable
    const isPath = r < 50 && g < 50 && b < 50;

    if (isPath) {
      playerX = nextX;
      playerY = nextY;
      player.style.transform = `translate(${playerX}px, ${playerY}px)`;
    }
  });
</script>

</body>
</html>
